{"version":3,"sources":["webpack:///static/js/0.499247ca7b7aa25374d0.js","webpack:///./src/views/ArticleDetail.vue","webpack:///ArticleDetail.vue","webpack:///./src/views/ArticleDetail.vue?e60b","webpack:///./src/views/ArticleDetail.vue?e1ba","webpack:///./src/views/ArticleDetail.vue?4365"],"names":["webpackJsonp","239","module","exports","__webpack_require__","Component","246","__webpack_exports__","Object","defineProperty","value","data","page","pageSize","author","id","avatar_url","name","article","title","content","create_at","good","is_collect","last_reply_at","tab","top","visit_count","displayCommentList","comment","reply_count","popup","replyId","show","placeholder","showExtBtnReply","activated","this","onFetchDetail","deactivated","window","onscroll","methods","_this2","$store","commit","_this","beforeScrollTop","document","documentElement","scrollTop","body","afterScrollTop","hasScrollTop","bodyHeight","scrollHeight","availHeight","screen","remainingHeight","console","log","onLoadMore","$loading","$route","query","$axios","get","params","accesstoken","getters","accessToken","then","response","result","author_id","loginname","replies","slice","hide","catch","e","$vux","toast","text","checkLogin","$router","push","onReplyComment","index","$refs","input","onFocus","onReplyArticle","onSendComment","_this3","post","reply_id","loginInfo","avatarUrl","Date","ups","onLikeThisArticle","_this4","url","toastText","topic_id","onLikeThisComment","_this5","action","removeIndex","indexOf","splice","fetchComment","length","concat","computed","minHeight","clientHeight","height","251","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","252","locals","253","render","_vm","_h","$createElement","_c","_self","staticClass","style","domProps","textContent","_s","_v","attrs","src","alt","class","_f","on","click","innerHTML","_l","c","to","active","staticStyle","display","$event","directives","rawName","expression","on-hide","ref","text-align","type","nativeOn","slot","staticRenderFns"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAAUC,EAAQC,EAASC,GCDjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,YACAI,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,IEmDlEH,EAAA,SF/CEI,KAAM,WACJ,OACEC,KEiDN,EFhDMC,SEiDN,GFhDMC,QACEC,GEiDR,GFhDQC,WEiDR,GFhDQC,KEkDR,IFhDMC,SACEC,MEiDR,GFhDQC,QEiDR,GFhDQC,UEiDR,GFhDQC,MEiDR,EFhDQP,GEiDR,GFhDQQ,YEiDR,EFhDQC,cEiDR,GFhDQC,IEiDR,GFhDQC,KEiDR,EFhDQC,YEkDR,GFhDMC,sBACAC,WACAC,YEiDN,EFhDMC,OACEC,QEiDR,KFhDQC,MEiDR,EFhDQb,QEiDR,GFhDQc,YEkDR,YFhDMC,iBEkDN,IF/CEC,UAAW,WACTC,KAAKzB,KEiDT,EFhDIyB,KEiDJC,iBF/CEC,YAAa,WACXC,OAAOC,SEiDX,MF9CEC,SACEJ,cAAe,WEiDnB,GAAAK,GAAAN,IF9CMA,MAAKO,OAAOC,OAAO,kBE+CzB,GF9CMR,KAAKvB,QACHC,GE+CR,GF9CQC,WE+CR,GF9CQC,KEgDR,IF9CMoB,KAAKnB,SACHC,ME+CR,GF9CQC,QE+CR,GF9CQC,UE+CR,GF9CQC,ME+CR,EF9CQP,GE+CR,GF9CQQ,YE+CR,EF9CQC,cE+CR,GF9CQC,IE+CR,GF9CQC,KE+CR,EF9CQC,YEgDR,GF9CMU,KAAKR,WACLQ,KAAKP,YE+CX,EF9CMO,KAAKN,OACHC,QE+CR,KF9CQC,ME+CR,EF9CQb,QE+CR,GF9CQc,YEgDR,YF9CMG,KAAKF,iBEiDX,CF/CM,IAAIW,GEgDVT,KF/CUU,EAAkBC,SAASC,gBAAgBC,WAAaF,SAASG,KEgD3ED,SF/CMV,QAAOC,SAAW,WAChB,GAAIW,GAAiBJ,SAASC,gBAAgBC,WAAaF,SAASG,KEgD5ED,SF/CQJ,GAAMX,gBAAkBY,GEgDhCK,EF/CQL,EEiDRK,CF/CQ,IAAIC,GAAeL,SAA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","file":"static/js/0.499247ca7b7aa25374d0.js","sourcesContent":["webpackJsonp([0,8],{\n\n/***/ 239:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(252)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(246),\n  /* template */\n  __webpack_require__(253),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  data: function data() {\n    return {\n      page: 1,\n      pageSize: 10,\n      author: {\n        id: '',\n        avatar_url: '',\n        name: ''\n      },\n      article: {\n        title: '',\n        content: '',\n        create_at: '',\n        good: false,\n        id: '',\n        is_collect: false,\n        last_reply_at: '',\n        tab: '',\n        top: false,\n        visit_count: 0\n      },\n      displayCommentList: [],\n      comment: [],\n      reply_count: 0,\n      popup: {\n        replyId: null,\n        show: false,\n        content: '',\n        placeholder: '请在这里填写评论'\n      },\n      showExtBtnReply: true\n    };\n  },\n  activated: function activated() {\n    this.page = 1;\n    this.onFetchDetail();\n  },\n  deactivated: function deactivated() {\n    window.onscroll = null;\n  },\n\n  methods: {\n    onFetchDetail: function onFetchDetail() {\n      var _this2 = this;\n\n      this.$store.commit('SET_SHOWTABBAR', false);\n      this.author = {\n        id: '',\n        avatar_url: '',\n        name: ''\n      };\n      this.article = {\n        title: '',\n        content: '',\n        create_at: '',\n        good: false,\n        id: '',\n        is_collect: false,\n        last_reply_at: '',\n        tab: '',\n        top: false,\n        visit_count: 0\n      };\n      this.comment = [];\n      this.reply_count = 0;\n      this.popup = {\n        replyId: null,\n        show: false,\n        content: '',\n        placeholder: '请在这里填写评论'\n      };\n      this.showExtBtnReply = true;\n\n      var _this = this;\n      var beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      window.onscroll = function () {\n        var afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n        _this.showExtBtnReply = beforeScrollTop >= afterScrollTop;\n        beforeScrollTop = afterScrollTop;\n\n        var hasScrollTop = document.body.scrollTop;\n        var bodyHeight = document.body.scrollHeight;\n        var availHeight = window.screen.availHeight;\n        var remainingHeight = bodyHeight - availHeight - hasScrollTop;\n        console.log(remainingHeight);\n        if (remainingHeight < 200) {\n          _this.onLoadMore();\n        }\n      };\n\n      this.$loading.show();\n      var id = this.$route.query.id;\n      this.$axios.get('https://cnodejs.org/api/v1/topic/' + id, {\n        params: {\n          accesstoken: this.$store.getters.accessToken\n        }\n      }).then(function (response) {\n        var result = response.data.data;\n        _this2.author = {\n          id: result.author_id,\n          name: result.author.loginname,\n          avatar_url: result.author.avatar_url\n        };\n        _this2.article = {\n          title: result.title,\n          content: result.content,\n          create_at: result.create_at,\n          good: result.good,\n          id: result.id,\n          is_collect: result.is_collect,\n          last_reply_at: result.last_reply_at,\n          tab: result.tab,\n          top: result.top,\n          visit_count: result.visit_count\n        };\n        _this2.comment = result.replies;\n        _this2.reply_count = result.reply_count;\n        _this2.displayCommentList = result.replies.slice(0, _this2.pageSize);\n        _this2.$loading.hide();\n      }).catch(function (e) {\n        console.log(e);\n        _this2.$vux.toast.show({\n          text: '获取数据失败'\n        });\n        _this2.$loading.hide();\n      });\n    },\n    checkLogin: function checkLogin() {\n      var accessToken = this.$store.getters.accessToken;\n      if (!accessToken) {\n        this.$vux.toast.show({\n          text: '请先登录'\n        });\n        this.$router.push('/login');\n        return false;\n      } else {\n        return true;\n      }\n    },\n    onReplyComment: function onReplyComment(id, name, index) {\n      if (this.checkLogin()) {\n        this.popup.replyId = id;\n        this.popup.placeholder = '\\u6B63\\u5728\\u56DE\\u590D' + (index + 1) + '\\u697C\\uFF0C' + name;\n        this.popup.show = true;\n        console.log(this.$refs.input);\n        this.$refs.input.onFocus();\n      }\n    },\n    onReplyArticle: function onReplyArticle() {\n      if (this.checkLogin()) {\n        this.popup.replyId = null;\n        this.popup.placeholder = '\\u6B63\\u5728\\u56DE\\u590D\\u4F5C\\u8005\\uFF0C' + this.author.name;\n        this.popup.show = true;\n        console.log(this.$refs.input);\n        this.$refs.input.onFocus();\n      }\n    },\n    onSendComment: function onSendComment() {\n      var _this3 = this;\n\n      if (this.checkLogin()) {\n        if (!this.popup.content) {\n          this.$vux.toast.show({\n            text: '评论不能为空'\n          });\n        } else {\n          this.$loading.show();\n          this.$axios.post('/topic/' + this.article.id + '/replies', {\n            accesstoken: this.$store.getters.accessToken,\n            content: this.popup.content,\n            reply_id: this.popup.replyId\n          }).then(function (result) {\n            console.log(result);\n            _this3.comment.push({\n              author: {\n                avatar_url: _this3.$store.getters.loginInfo.avatarUrl,\n                loginname: _this3.$store.getters.loginInfo.loginname\n              },\n              content: _this3.popup.content,\n              create_at: new Date(),\n              id: result.data.reply_id,\n              reply_id: null,\n              ups: []\n            });\n            _this3.popup.show = false;\n            _this3.$vux.toast.show({\n              text: '评论成功'\n            });\n            _this3.$loading.hide();\n          }).catch(function (e) {\n            console.log(e);\n            _this3.$vux.toast.show({\n              text: '操作失败'\n            });\n            _this3.$loading.hide();\n          });\n        }\n      }\n    },\n    onLikeThisArticle: function onLikeThisArticle() {\n      var _this4 = this;\n\n      if (this.checkLogin()) {\n        var url = void 0;\n        var toastText = void 0;\n        if (!this.article.is_collect) {\n          url = '/topic_collect/collect';\n          toastText = '收藏成功';\n        } else {\n          url = '/topic_collect/de_collect';\n          toastText = '取消收藏成功';\n        }\n        this.$axios.post(url, {\n          accesstoken: this.$store.getters.accessToken,\n          topic_id: this.article.id\n        }).then(function (result) {\n          console.log(result);\n          _this4.article.is_collect = !_this4.article.is_collect;\n          _this4.$vux.toast.show({\n            text: toastText\n          });\n        }).catch(function (e) {\n          console.log(e);\n          _this4.$vux.toast.show({\n            text: '操作失败'\n          });\n        });\n      }\n    },\n    onLikeThisComment: function onLikeThisComment(id, index) {\n      var _this5 = this;\n\n      if (this.checkLogin()) {\n        this.$axios.post('/reply/' + id + '/ups', {\n          accesstoken: this.$store.getters.accessToken\n        }).then(function (result) {\n          var toastText = void 0;\n          if (result.data.action == 'down') {\n            toastText = '取消点赞成功';\n            var removeIndex = _this5.comment[index].ups.indexOf(_this5.$store.getters.loginInfo.id);\n            _this5.comment[index].ups.splice(removeIndex, 1);\n          } else {\n            toastText = '点赞成功';\n            _this5.comment[index].ups.push(_this5.$store.getters.loginInfo.id);\n          }\n          _this5.$vux.toast.show({\n            text: toastText\n          });\n        }).catch(function (e) {\n          console.log(e);\n          _this5.$vux.toast.show({\n            text: '操作失败'\n          });\n        });\n      }\n    },\n    onLoadMore: function onLoadMore() {\n      var page = this.page;\n      var pageSize = this.pageSize;\n      var fetchComment = this.comment.slice(page * pageSize, (page + 1) * pageSize);\n      if (fetchComment.length) {\n        this.displayCommentList = this.displayCommentList.concat(fetchComment);\n        this.page++;\n      }\n    }\n  },\n  computed: {\n    minHeight: function minHeight() {\n      return document.body.clientHeight >= 400 && document.body.clientHeight <= 736 ? document.body.clientHeight : window.screen.height;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(237)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.weui_text_left .weui_input {\\n  text-align: left;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./src/views/ArticleDetail.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,iBAAiB;CAClB\",\"file\":\"ArticleDetail.vue\",\"sourcesContent\":[\"\\n.weui_text_left .weui_input {\\n  text-align: left;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(251);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(244)(\"284449ac\", content, true);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ArticleDetail.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ArticleDetail.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"article-box\",\n    style: ({\n      minHeight: _vm.minHeight + 50 + 'px'\n    })\n  }, [_c('div', {\n    staticClass: \"head-box\"\n  }, [_c('h2', {\n    staticClass: \"head-title\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.article.title)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-intro\"\n  }, [_c('div', {\n    staticClass: \"avatar\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.author.avatar_url,\n      \"alt\": \"headImgUrl\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-middle\"\n  }, [_c('div', {\n    staticClass: \"head-middle-top\"\n  }, [_c('div', {\n    staticClass: \"feed-label\",\n    class: [_vm.article.top ? 'feed-label-top' : \"feed-label-other\"]\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm._f(\"translateTab\")(_vm.article.tab, _vm.article.top)) + \"\\n          \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"head-author-name\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.author.name)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-middle-bottom\"\n  }, [_vm._v(\"\\n\\n          \" + _vm._s(_vm._f(\"timeAgo\")(_vm.article.create_at)) + \"创建\\n          ·\\n          \"), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.article.visit_count)\n    }\n  }), _vm._v(\"次预览\\n          \"), _c('div', {\n    staticClass: \"icon-eye-open\"\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-right\",\n    on: {\n      \"click\": _vm.onLikeThisArticle\n    }\n  }, [_c('i', {\n    class: [_vm.article.is_collect ? 'icon-heart' : 'icon-heart-empty']\n  })])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-box markdown-body\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.article.content)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"comment-box\"\n  }, [_c('div', {\n    staticClass: \"comment-title\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.reply_count) + \" 条回复\\n    \")]), _vm._v(\" \"), _vm._l((_vm.displayCommentList), function(c, index) {\n    return _c('div', {\n      staticClass: \"comment-li\"\n    }, [_c('div', {\n      staticClass: \"comment-head\"\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": {\n          name: 'user',\n          query: {\n            id: c.author.loginname\n          }\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"avatar\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": c.author.avatar_url,\n        \"alt\": \"headImgUrl\"\n      }\n    })])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-middle\"\n    }, [_c('div', {\n      staticClass: \"comment-middle-top\",\n      domProps: {\n        \"textContent\": _vm._s(c.author.loginname)\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-middle-bottom\"\n    }, [_c('span', [_vm._v(_vm._s(index + 1) + \"楼\")]), _vm._v(\" · \" + _vm._s(_vm._f(\"timeAgo\")(c.create_at)) + \"\\n          \")])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-right\"\n    }, [_c('div', {\n      class: {\n        'active': index < 60 && c.ups.indexOf(_vm.$store.getters.loginInfo.id) >= 0\n      },\n      staticStyle: {\n        \"display\": \"flex\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.onLikeThisComment(c.id, index)\n        }\n      }\n    }, [_c('i', {\n      staticClass: \"icon-thumbs-up\"\n    }), _vm._v(\" \"), _c('span', {\n      domProps: {\n        \"textContent\": _vm._s(c.ups.length)\n      }\n    })]), _vm._v(\" \"), _c('i', {\n      staticClass: \"icon-reply\",\n      on: {\n        \"click\": function($event) {\n          _vm.onReplyComment(c.id, c.author.loginname, index)\n        }\n      }\n    })])], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-content markdown-body\",\n      domProps: {\n        \"innerHTML\": _vm._s(c.content)\n      }\n    })])\n  })], 2), _vm._v(\" \"), _c('popup', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.popup.show),\n      expression: \"popup.show\"\n    }],\n    domProps: {\n      \"value\": (_vm.popup.show)\n    },\n    on: {\n      \"on-hide\": function($event) {\n        _vm.popup.show = false\n      },\n      \"input\": function($event) {\n        _vm.popup.show = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"popup-editor-box\"\n  }, [_c('x-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.popup.content),\n      expression: \"popup.content\"\n    }],\n    ref: \"input\",\n    staticClass: \"weui_vcode weui_text_left\",\n    staticStyle: {\n      \"text-align\": \"left\"\n    },\n    attrs: {\n      \"placeholder\": _vm.popup.placeholder\n    },\n    domProps: {\n      \"value\": (_vm.popup.content)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.popup.content = $event\n      }\n    }\n  }, [_c('x-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.onSendComment($event)\n      }\n    },\n    slot: \"right\"\n  }, [_vm._v(\"发送\")])], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ext-btn-reply\",\n    class: {\n      'hide': !_vm.showExtBtnReply\n    },\n    on: {\n      \"click\": _vm.onReplyArticle\n    }\n  }, [_c('i', {\n    staticClass: \"icon-reply\"\n  })])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.499247ca7b7aa25374d0.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ArticleDetail.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleDetail.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ArticleDetail.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ArticleDetail.vue\n// module id = 239\n// module chunks = 0","<template>\n  <div class=\"article-box\" :style=\"{minHeight: minHeight + 50 + 'px'}\">\n    <div class=\"head-box\">\n      <h2 class=\"head-title\" v-text=\"article.title\">\n      </h2>\n      <div class=\"head-intro\">\n        <div class=\"avatar\">\n          <img :src=\"author.avatar_url\" alt=\"headImgUrl\">\n        </div>\n        <div class=\"head-middle\">\n          <div class=\"head-middle-top\">\n            <div class=\"feed-label\" :class=\"[article.top ? 'feed-label-top' : `feed-label-other`]\">\n              {{article.tab | translateTab(article.top)}}\n            </div>\n            <span class=\"head-author-name\" v-text=\"author.name\"></span>\n          </div>\n          <div class=\"head-middle-bottom\">\n\n            {{article.create_at | timeAgo}}创建\n            ·\n            <span v-text=\"article.visit_count\"></span>次预览\n            <div class=\"icon-eye-open\"></div>\n          </div>\n        </div>\n        <div class=\"head-right\" @click=\"onLikeThisArticle\">\n          <i :class=\"[article.is_collect ? 'icon-heart' : 'icon-heart-empty']\"></i>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"content-box markdown-body\" v-html=\"article.content\">\n    </div>\n\n    <div class=\"comment-box\">\n      <div class=\"comment-title\">\n        {{reply_count}} 条回复\n      </div>\n      <div class=\"comment-li\" v-for=\"(c, index) in displayCommentList\">\n        <div class=\"comment-head\">\n          <router-link :to=\"{name: 'user', query: { id: c.author.loginname }}\">\n            <div class=\"avatar\">\n              <img :src=\"c.author.avatar_url\" alt=\"headImgUrl\">\n            </div>\n          </router-link>\n          <div class=\"comment-middle\">\n            <div class=\"comment-middle-top\" v-text=\"c.author.loginname\">\n            </div>\n            <div class=\"comment-middle-bottom\">\n              <span>{{index + 1}}楼</span> · {{c.create_at | timeAgo}}\n            </div>\n          </div>\n          <div class=\"comment-right\">\n            <div @click=\"onLikeThisComment(c.id, index)\" style=\"display: flex;\"\n                 :class=\"{ 'active': index < 60 && c.ups.indexOf($store.getters.loginInfo.id) >= 0}\">\n              <i class=\"icon-thumbs-up\"></i>\n              <span v-text=\"c.ups.length\"></span>\n            </div>\n            <i class=\"icon-reply\" @click=\"onReplyComment(c.id, c.author.loginname, index)\"></i>\n          </div>\n        </div>\n        <div class=\"comment-content markdown-body\" v-html=\"c.content\">\n        </div>\n      </div>\n    </div>\n\n    <popup v-model=\"popup.show\" @on-hide=\"popup.show = false\">\n      <div class=\"popup-editor-box\">\n        <x-input class=\"weui_vcode weui_text_left\" style=\"text-align: left\" v-model=\"popup.content\"\n                 :placeholder=\"popup.placeholder\" ref=\"input\">\n          <x-button slot=\"right\" type=\"primary\" @click.native=\"onSendComment\">发送</x-button>\n        </x-input>\n      </div>\n    </popup>\n\n    <div class=\"ext-btn-reply\" :class=\"{'hide': !showExtBtnReply}\" @click=\"onReplyArticle\">\n      <i class=\"icon-reply\"></i>\n    </div>\n  </div>\n</template>\n<script>\n  export default{\n    data(){\n      return {\n        page: 1,\n        pageSize: 10,\n        author: {\n          id: '',\n          avatar_url: '',\n          name: ''\n        },\n        article: {\n          title: '',\n          content: '',\n          create_at: '',\n          good: false,\n          id: '',\n          is_collect: false,\n          last_reply_at: '',\n          tab: '',\n          top: false,\n          visit_count: 0\n        },\n        displayCommentList: [],\n        comment: [],\n        reply_count: 0,\n        popup: {\n          replyId: null,\n          show: false,\n          content: '',\n          placeholder: '请在这里填写评论'\n        },\n        showExtBtnReply: true\n      }\n    },\n    activated(){\n      this.page = 1\n      this.onFetchDetail()\n    },\n    deactivated () {\n      window.onscroll = null\n    },\n    methods: {\n      onFetchDetail() {\n        // 初始化数据\n        this.$store.commit('SET_SHOWTABBAR', false)\n        this.author = {\n          id: '',\n          avatar_url: '',\n          name: ''\n        }\n        this.article = {\n          title: '',\n          content: '',\n          create_at: '',\n          good: false,\n          id: '',\n          is_collect: false,\n          last_reply_at: '',\n          tab: '',\n          top: false,\n          visit_count: 0\n        }\n        this.comment = []\n        this.reply_count = 0\n        this.popup = {\n          replyId: null,\n          show: false,\n          content: '',\n          placeholder: '请在这里填写评论'\n        }\n        this.showExtBtnReply = true\n\n        // 添加上滑显示下滑隐藏\n        let _this = this\n        let beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop\n        window.onscroll = () => {\n          let afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop\n          _this.showExtBtnReply = beforeScrollTop >= afterScrollTop;\n          beforeScrollTop = afterScrollTop\n\n          let hasScrollTop = document.body.scrollTop\n          let bodyHeight = document.body.scrollHeight\n          let availHeight = window.screen.availHeight\n          let remainingHeight = bodyHeight - availHeight - hasScrollTop\n          console.log(remainingHeight)\n          if(remainingHeight < 200){\n            _this.onLoadMore()\n          }\n        }\n\n        // 加载数据\n        this.$loading.show()\n        let id = this.$route.query.id\n        this.$axios.get('https://cnodejs.org/api/v1/topic/' + id, {\n          params: {\n            accesstoken: this.$store.getters.accessToken\n          }\n        })\n          .then(response => {\n            let result = response.data.data\n            this.author = {\n              id: result.author_id,\n              name: result.author.loginname,\n              avatar_url: result.author.avatar_url\n            }\n            this.article = {\n              title: result.title,\n              content: result.content,\n              create_at: result.create_at,\n              good: result.good,\n              id: result.id,\n              is_collect: result.is_collect,\n              last_reply_at: result.last_reply_at,\n              tab: result.tab,\n              top: result.top,\n              visit_count: result.visit_count\n            }\n            this.comment = result.replies\n            this.reply_count = result.reply_count\n            this.displayCommentList = result.replies.slice(0, this.pageSize)\n            this.$loading.hide()\n          })\n          .catch(e => {\n            console.log(e)\n            this.$vux.toast.show({\n              text: '获取数据失败',\n            })\n            this.$loading.hide()\n          })\n      },\n      checkLogin(){\n        let accessToken = this.$store.getters.accessToken\n        if (!accessToken) {\n          this.$vux.toast.show({\n            text: '请先登录',\n          })\n          this.$router.push('/login')\n          return false\n        } else {\n          return true\n        }\n      },\n      onReplyComment(id, name, index){\n        if (this.checkLogin()) {\n          this.popup.replyId = id\n          this.popup.placeholder = `正在回复${index + 1}楼，${name}`\n          this.popup.show = true\n          console.log(this.$refs.input)\n          this.$refs.input.onFocus()\n        }\n      },\n      onReplyArticle(){\n        if (this.checkLogin()) {\n          this.popup.replyId = null\n          this.popup.placeholder = `正在回复作者，${this.author.name}`\n          this.popup.show = true\n          console.log(this.$refs.input)\n          this.$refs.input.onFocus()\n        }\n      },\n      onSendComment(){\n        if (this.checkLogin()) {\n          if (!this.popup.content) {\n            this.$vux.toast.show({\n              text: '评论不能为空',\n            })\n          } else {\n            this.$loading.show()\n            this.$axios.post(`/topic/${this.article.id}/replies`, {\n              accesstoken: this.$store.getters.accessToken,\n              content: this.popup.content,\n              reply_id: this.popup.replyId\n            })\n              .then(result => {\n                console.log(result)\n                this.comment.push({\n                  author: {\n                    avatar_url: this.$store.getters.loginInfo.avatarUrl,\n                    loginname: this.$store.getters.loginInfo.loginname\n                  },\n                  content: this.popup.content,\n                  create_at: new Date(),\n                  id: result.data.reply_id,\n                  reply_id: null,\n                  ups: [],\n                })\n                this.popup.show = false\n                this.$vux.toast.show({\n                  text: '评论成功',\n                })\n                this.$loading.hide()\n              })\n              .catch(e => {\n                console.log(e)\n                this.$vux.toast.show({\n                  text: '操作失败',\n                })\n                this.$loading.hide()\n              })\n          }\n        }\n      },\n      onLikeThisArticle() {\n        if (this.checkLogin()) {\n          let url\n          let toastText\n          if (!this.article.is_collect) {\n            url = '/topic_collect/collect'\n            toastText = '收藏成功'\n          } else {\n            url = '/topic_collect/de_collect'\n            toastText = '取消收藏成功'\n          }\n          this.$axios.post(url, {\n            accesstoken: this.$store.getters.accessToken,\n            topic_id: this.article.id\n          })\n            .then(result => {\n              console.log(result)\n              this.article.is_collect = !this.article.is_collect\n              this.$vux.toast.show({\n                text: toastText,\n              })\n            })\n            .catch(e => {\n              console.log(e)\n              this.$vux.toast.show({\n                text: '操作失败',\n              })\n            })\n        }\n      },\n      onLikeThisComment(id, index){\n        if (this.checkLogin()) {\n          this.$axios.post(`/reply/${id}/ups`, {\n            accesstoken: this.$store.getters.accessToken,\n          })\n            .then(result => {\n              let toastText\n              if (result.data.action == 'down') {\n                toastText = '取消点赞成功'\n                let removeIndex = this.comment[index].ups.indexOf(this.$store.getters.loginInfo.id)\n                this.comment[index].ups.splice(removeIndex, 1)\n              } else {\n                toastText = '点赞成功'\n                this.comment[index].ups.push(this.$store.getters.loginInfo.id)\n              }\n              this.$vux.toast.show({\n                text: toastText,\n              })\n            })\n            .catch(e => {\n              console.log(e)\n              this.$vux.toast.show({\n                text: '操作失败',\n              })\n            })\n        }\n      },\n      onLoadMore () {\n        let page = this.page\n        let pageSize = this.pageSize\n        let fetchComment = this.comment.slice(page * pageSize, (page + 1) * pageSize)\n        if (fetchComment.length) {\n          this.displayCommentList = this.displayCommentList.concat(fetchComment)\n          this.page++\n        }\n      },\n    },\n    computed: {\n      minHeight: () => {\n        return (document.body.clientHeight >= 400 && document.body.clientHeight <= 736) ? document.body.clientHeight :  window.screen.height\n      },\n    }\n  }\n</script>\n<style>\n  .weui_text_left .weui_input {\n    text-align: left;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ArticleDetail.vue?9e8cfb46","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.weui_text_left .weui_input {\\n  text-align: left;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./src/views/ArticleDetail.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,iBAAiB;CAClB\",\"file\":\"ArticleDetail.vue\",\"sourcesContent\":[\"\\n.weui_text_left .weui_input {\\n  text-align: left;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/ArticleDetail.vue\n// module id = 251\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ArticleDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"284449ac\", content, true);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ArticleDetail.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ArticleDetail.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-21a1668c!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/ArticleDetail.vue\n// module id = 252\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"article-box\",\n    style: ({\n      minHeight: _vm.minHeight + 50 + 'px'\n    })\n  }, [_c('div', {\n    staticClass: \"head-box\"\n  }, [_c('h2', {\n    staticClass: \"head-title\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.article.title)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-intro\"\n  }, [_c('div', {\n    staticClass: \"avatar\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.author.avatar_url,\n      \"alt\": \"headImgUrl\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-middle\"\n  }, [_c('div', {\n    staticClass: \"head-middle-top\"\n  }, [_c('div', {\n    staticClass: \"feed-label\",\n    class: [_vm.article.top ? 'feed-label-top' : \"feed-label-other\"]\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm._f(\"translateTab\")(_vm.article.tab, _vm.article.top)) + \"\\n          \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"head-author-name\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.author.name)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-middle-bottom\"\n  }, [_vm._v(\"\\n\\n          \" + _vm._s(_vm._f(\"timeAgo\")(_vm.article.create_at)) + \"创建\\n          ·\\n          \"), _c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.article.visit_count)\n    }\n  }), _vm._v(\"次预览\\n          \"), _c('div', {\n    staticClass: \"icon-eye-open\"\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"head-right\",\n    on: {\n      \"click\": _vm.onLikeThisArticle\n    }\n  }, [_c('i', {\n    class: [_vm.article.is_collect ? 'icon-heart' : 'icon-heart-empty']\n  })])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-box markdown-body\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.article.content)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"comment-box\"\n  }, [_c('div', {\n    staticClass: \"comment-title\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.reply_count) + \" 条回复\\n    \")]), _vm._v(\" \"), _vm._l((_vm.displayCommentList), function(c, index) {\n    return _c('div', {\n      staticClass: \"comment-li\"\n    }, [_c('div', {\n      staticClass: \"comment-head\"\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": {\n          name: 'user',\n          query: {\n            id: c.author.loginname\n          }\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"avatar\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": c.author.avatar_url,\n        \"alt\": \"headImgUrl\"\n      }\n    })])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-middle\"\n    }, [_c('div', {\n      staticClass: \"comment-middle-top\",\n      domProps: {\n        \"textContent\": _vm._s(c.author.loginname)\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-middle-bottom\"\n    }, [_c('span', [_vm._v(_vm._s(index + 1) + \"楼\")]), _vm._v(\" · \" + _vm._s(_vm._f(\"timeAgo\")(c.create_at)) + \"\\n          \")])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-right\"\n    }, [_c('div', {\n      class: {\n        'active': index < 60 && c.ups.indexOf(_vm.$store.getters.loginInfo.id) >= 0\n      },\n      staticStyle: {\n        \"display\": \"flex\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.onLikeThisComment(c.id, index)\n        }\n      }\n    }, [_c('i', {\n      staticClass: \"icon-thumbs-up\"\n    }), _vm._v(\" \"), _c('span', {\n      domProps: {\n        \"textContent\": _vm._s(c.ups.length)\n      }\n    })]), _vm._v(\" \"), _c('i', {\n      staticClass: \"icon-reply\",\n      on: {\n        \"click\": function($event) {\n          _vm.onReplyComment(c.id, c.author.loginname, index)\n        }\n      }\n    })])], 1), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-content markdown-body\",\n      domProps: {\n        \"innerHTML\": _vm._s(c.content)\n      }\n    })])\n  })], 2), _vm._v(\" \"), _c('popup', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.popup.show),\n      expression: \"popup.show\"\n    }],\n    domProps: {\n      \"value\": (_vm.popup.show)\n    },\n    on: {\n      \"on-hide\": function($event) {\n        _vm.popup.show = false\n      },\n      \"input\": function($event) {\n        _vm.popup.show = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"popup-editor-box\"\n  }, [_c('x-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.popup.content),\n      expression: \"popup.content\"\n    }],\n    ref: \"input\",\n    staticClass: \"weui_vcode weui_text_left\",\n    staticStyle: {\n      \"text-align\": \"left\"\n    },\n    attrs: {\n      \"placeholder\": _vm.popup.placeholder\n    },\n    domProps: {\n      \"value\": (_vm.popup.content)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.popup.content = $event\n      }\n    }\n  }, [_c('x-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.onSendComment($event)\n      }\n    },\n    slot: \"right\"\n  }, [_vm._v(\"发送\")])], 1)], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ext-btn-reply\",\n    class: {\n      'hide': !_vm.showExtBtnReply\n    },\n    on: {\n      \"click\": _vm.onReplyArticle\n    }\n  }, [_c('i', {\n    staticClass: \"icon-reply\"\n  })])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-21a1668c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/ArticleDetail.vue\n// module id = 253\n// module chunks = 0"],"sourceRoot":""}